{
  "Rules": [
    {
      "Name": "<seu-id>-documentdb-failover-events",
      "Description": "Detectar eventos de failover do DocumentDB para <seu-id>",
      "EventPattern": {
        "source": [
          "aws.docdb"
        ],
        "detail-type": [
          "DocumentDB DB Instance Event"
        ],
        "detail": {
          "EventCategories": [
            "failover"
          ],
          "SourceIdentifier": [
            {
              "prefix": "<seu-id>-"
            }
          ]
        }
      },
      "State": "ENABLED",
      "Targets": [
        {
          "Id": "1",
          "Arn": "arn:aws:sns:us-east-1:ACCOUNT_ID:<seu-id>-documentdb-alerts"
        }
      ]
    },
    {
      "Name": "<seu-id>-documentdb-backup-events",
      "Description": "Monitorar eventos de backup do DocumentDB para <seu-id>",
      "EventPattern": {
        "source": [
          "aws.docdb"
        ],
        "detail-type": [
          "DocumentDB DB Cluster Snapshot Event"
        ],
        "detail": {
          "EventCategories": [
            "backup"
          ],
          "SourceIdentifier": [
            {
              "prefix": "<seu-id>-"
            }
          ]
        }
      },
      "State": "ENABLED",
      "Targets": [
        {
          "Id": "1",
          "Arn": "arn:aws:sns:us-east-1:ACCOUNT_ID:<seu-id>-documentdb-alerts"
        }
      ]
    }
  ],
  "Instructions": {
    "Setup": [
      "1. Substitua <seu-id> pelo seu identificador de aluno.",
      "2. Substitua ACCOUNT_ID pelo ID da sua conta AWS.",
      "3. Crie o t√≥pico SNS primeiro: aws sns create-topic --name <seu-id>-documentdb-alerts",
      "4. Aplique as regras usando os comandos da AWS CLI, substituindo os nomes e ARNs."
    ]
  }
}